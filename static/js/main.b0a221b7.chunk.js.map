{"version":3,"sources":["components/Users/User.jsx","redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","components/Users/Users.module.css","assets/Images/Double Ring-1.3s-200px.svg","components/Settings/Settings.module.css","components/common/FormsControls/FormsControls.js","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","utils/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/WithSuspense.js","App.js","index.js","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","api/api.js","redux/profile-reducer.js"],"names":["userPhoto","User","user","followingInProgress","unfollow","follow","to","id","src","photos","small","alt","className","classes","followed","disabled","some","onClick","name","status","initialsState","dialogs","messages","message","sendMessageCreator","newMessageBody","type","dialogReducer","state","action","body","module","exports","FormControl","input","meta","touched","error","children","hasError","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Boolean","window","location","hostname","match","Header","header","loginBlock","isAuth","login","logout","SET_USER_DATA","userId","email","captchaUrl","setAuthUserData","payLoad","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","authAPI","me","response","data","resultCode","getCaptchaUrl","securityAPI","url","authReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","activeLink","News","Music","Settings","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","console","log","paginator","filter","p","map","cn","selectedPage","pageNumber","key","e","Users","totalUsersCount","users","u","updateObjectInArray","items","itemId","objPropName","newObjProps","isFetching","followSucces","unfollowSucces","setCurrentPage","toogleIsFetching","toogleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","userReducer","count","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","Preloader","compose","usersAPI","bind","page","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","password","rememberMe","captcha","length","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebarPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","then","SamuraiJsApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","preloader","style","width","value","maxLengthCreator","maxLength","instance","axios","create","withCredentials","baseURL","headers","get","userid","post","delete","getProfile","profileAPI","getStatus","updateStatus","put","savePhoto","photoFile","FormData","append","saveProfile","profile","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","Promise","reject","newPost","postId"],"mappings":"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","file":"static/js/main.b0a221b7.chunk.js","sourcesContent":["import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nexport const userPhoto = 'https://sun9-15.userapi.com/c629404/v629404957/8a5/8841YpL9Pcw.jpg';\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small !== null ? user.photos.small : userPhoto\r\n                        } alt=\"\" className={classes.userPhoto} />\r\n\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n                        }}>UnFollow</button> :\r\n                        <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id);\r\n                        }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div> {user.name} </div>\r\n                    <div> {user.status} </div>\r\n                </span>\r\n                <span>\r\n                    <div> {'user.location.country'} </div>\r\n                    <div> {'user.location.city'} </div>\r\n                </span>\r\n            </span>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default User;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialsState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Dima' },\r\n        { id: 2, name: 'Sveta' },\r\n        { id: 3, name: 'Vadim' },\r\n        { id: 4, name: 'Lesha' },\r\n        { id: 5, name: 'Olya' },\r\n        { id: 6, name: 'Nastya' },\r\n        { id: 7, name: 'Petya' },\r\n        { id: 8, name: 'Kolya' },\r\n        { id: 9, name: 'Inga' },\r\n        { id: 10, name: 'Vera' },\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'How is it-kamasutra' },\r\n        { id: 3, message: 'Good' },\r\n        { id: 4, message: 'Yes' },\r\n        { id: 5, message: 'By-by' },\r\n    ],\r\n   \r\n}\r\n\r\nconst dialogReducer = (state = initialsState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 6, message: body }]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3B_mM\",\"item\":\"Navbar_item__2tjtu\",\"activeLink\":\"Navbar_activeLink__oMcG5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2dp47\"};","module.exports = __webpack_public_path__ + \"static/media/Double Ring-1.3s-200px.427518a6.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Settings_nav__3_Pd7\",\"item\":\"Settings_item__KlYcp\"};","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, children }) => {\r\n   const hasError = touched && error;\r\n   return (\r\n      <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n         <div>\r\n            {children}\r\n         </div>\r\n         <div>\r\n            {hasError && <span>{error}</span>}\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n   const { input, meta, child, ...restProps } = props;\r\n   return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n   const { input, meta, child, ...restProps } = props;\r\n   return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={}, text=\"\") =>\r\n   <div>\r\n      <Field placeholder={placeholder}\r\n         validate={validators}\r\n         name={name} component={component}\r\n         {...props}\r\n      />{text}\r\n   </div>\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport classes from'./Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src='data:image/png;base64,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' alt='logo' />\r\n            \r\n            <div className={classes.loginBlock}>\r\n                \r\n                { props.isAuth \r\n                ?<div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                :<NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>)\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCES = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCES';\r\n\r\n\r\nlet initialsState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialsState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payLoad,\r\n            }\r\n\r\n        case GET_CAPTCHA_URL_SUCCES:\r\n            return {\r\n                ...state,\r\n                ...action.payLoad,\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payLoad: { userId, email, login, isAuth } });\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCES, payLoad: { captchaUrl } });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    };\r\n\r\n\r\n}\r\n\r\nexport const login = (email, password, rememberMe = false, captcha = null) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData(null, null, null, false))\r\n    }\r\n\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {logout } from \"../../redux/auth-reducer\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>)\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Settings;","import React, { useState } from 'react';\r\nimport classes from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    console.log(portionCount, portionNumber,pageSize,portionSize)\r\n    return <div className={classes.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span className={cn({\r\n                    [classes.selectedPage]: currentPage === p\r\n                }, classes.pageNumber)}\r\n\r\n                    key={p}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p);\r\n                    }}>{p}</span>\r\n            })} \r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\n\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\n\r\nlet Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\r\n    return <div>\r\n\r\n        <Paginator currentPage={currentPage}\r\n            onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize} />\r\n        <div>\r\n            {\r\n                users.map(u => <User key={u.id}\r\n                    user={u}\r\n                    followingInProgress={props.followingInProgress}\r\n                    unfollow={props.unfollow}\r\n                    follow={props.follow}\r\n                />\r\n                )\r\n            }\r\n\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   \r\n   return items.map(u => {\r\n      if (u[objPropName] === itemId) {\r\n          return { ...u, ...newObjProps }\r\n      }\r\n      return u;\r\n   })\r\n} ","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOOGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING';\r\nconst TOOGLE_IS_FOLLOWING_PROGRESS = 'TOOGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialsState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [2]\r\n}\r\n\r\nconst userReducer = (state = initialsState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, users: action.users }\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.count }\r\n        case TOOGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n        case TOOGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSucces = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage: currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toogleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching });\r\nexport const toogleFollowingProgress = (isFetching, userId) => ({ type: TOOGLE_IS_FOLLOWING_PROGRESS, isFetching });\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toogleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.requestUsers(page, pageSize);\r\n        dispatch(toogleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toogleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toogleFollowingProgress(false, userId));\r\n}\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSucces);\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSucces);\r\n    }\r\n}\r\n\r\nexport default userReducer;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n   return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n   return users.filter(u => true)\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n   return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n   return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport { follow, unfollow, setUsers, setCurrentPage, setTotalUsersCount, toogleIsFetching, toogleFollowingProgress, requestUsers } from '../../redux/users-reducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport {getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n\r\n        const {currentPage,pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        const pageSize = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setCurrentPage,\r\n        toogleFollowingProgress, requestUsers\r\n    })\r\n)(UsersContainer)","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from \"./../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n   return (\r\n      <form onSubmit={handleSubmit}>\r\n         {createField(\"Email\", \"email\", [required], Input)}\r\n         {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n         {createField(null, \"rememberMe\", [], Input, {type:\"checkbox\"}, \"remember me\" )}\r\n         \r\n         {captchaUrl && <img src={captchaUrl} />}\r\n         {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {} )}\r\n\r\n         {error && <div className={styles.formSummaryError}>\r\n            {error}\r\n         </div>}\r\n         <div className=\"\">\r\n            <button>Login</button>\r\n         </div>\r\n      </form>\r\n   )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n   const onSubmit = (formData) => {\r\n      props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n\r\n   }\r\n\r\n   if (props.isAuth) {\r\n      return <Redirect to={\"/profile\"} />\r\n   }\r\n\r\n   return <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n   </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n   captchaUrl: state.auth.captchaUrl,\r\n   isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport authReducer, { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES';\r\n\r\nlet initialsState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialsState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCES:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: INITIALIZED_SUCCES });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise =  dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n       dispatch(initializedSucces()) \r\n    })\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","let initialsState = {};\r\n\r\nconst sidebarReducer = (state=initialsState, action) => {\r\n    \r\n    \r\n\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport userReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: userReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)\r\n  ));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n   return (props) => {\r\n      return <Suspense fallback={<Preloader />}>\r\n         <Component {...props} />\r\n      </Suspense>\r\n   };\r\n}\r\n","import React, { Component, Suspense } from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport { Route, withRouter, HashRouter } from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport Login from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from \"./redux/app-reducer\";\r\nimport { compose } from 'redux';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/WithSuspense';\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n\r\n\r\nclass App extends Component {\r\n   componentDidMount() {\r\n      this.props.initializeApp();\r\n   }\r\n\r\n   render() {\r\n      if (!this.props.initialized) {\r\n         return <Preloader />\r\n      }\r\n\r\n\r\n      return (\r\n         <div className='app-wrapper'>\r\n            <HeaderContainer />\r\n            <Navbar />\r\n            <div className='app-wrapper-content'>\r\n               <Route path='/dialogs'\r\n                  render={withSuspense(DialogsContainer)} />\r\n\r\n\r\n               <Route path='/profile/:userId?' \r\n               render={withSuspense(ProfileContainer)} />\r\n\r\n               <Route path='/users' render={() => <UsersContainer />} />\r\n\r\n               <Route path='/news' render={() => <News />} />\r\n\r\n               <Route path='/music' render={() => <Music />} />\r\n\r\n               <Route path='/settings' render={() => <Settings />} />\r\n\r\n               <Route path='/login' render={() => <Login />} />\r\n\r\n            </div>\r\n         </div>);\r\n   }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n   initialized: state.app.initialized\r\n})\r\n\r\n\r\nlet AppContainer = compose(\r\n   withRouter,\r\n   connect(mapStateToProps, { initializeApp }))(App);\r\n\r\nconst SamuraiJsApp = (props) => {\r\n   return <HashRouter>>\r\n      <Provider store={store}>\r\n         <AppContainer />\r\n      </Provider>\r\n   </HashRouter>\r\n}\r\n\r\nexport default SamuraiJsApp;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJsApp from './App';\n\n    ReactDOM.render(<SamuraiJsApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import preloader from './../../../assets/Images/Double Ring-1.3s-200px.svg';\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader} \r\n            style={{width:'64px'}} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3ER4X\",\"error\":\"FormsControls_error__24H_M\",\"formSummaryError\":\"FormsControls_formSummaryError__3q3Mg\"};","export const required = value => {\r\n   if (value) return undefined;\r\n   return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n   if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n   return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3_b3k\",\"pageNumber\":\"Paginator_pageNumber__375Zg\",\"selectedPage\":\"Paginator_selectedPage__1yBRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2qh8H\",\"loginBlock\":\"Header_loginBlock__Td1_c\"};","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n   withCredentials: true,\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   headers: {\r\n      \"API-KEY\": \"941bdd7f-5162-457f-83e9-4956129819f4\"\r\n   }\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n   requestUsers(currentPage = 1, pageSize = 10) {\r\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n         .then(response => {\r\n            return response.data;\r\n         });\r\n\r\n   },\r\n   follow(userid) {\r\n      return instance.post(`follow/${userid}`)\r\n   },\r\n   unfollow(userid) {\r\n      return instance.delete(`follow/${userid}`)\r\n   },\r\n   getProfile(userId) {\r\n      console.log('Absolute method. Please profileApi object')\r\n      return profileAPI.getProfile(userId)\r\n   }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n   getProfile(userId) {\r\n      return instance.get(`profile/${userId}`);\r\n   },\r\n   getStatus(userId) {\r\n      return instance.get(`profile/status/${userId}`);\r\n   },\r\n   updateStatus(status) {\r\n      return instance.put(`profile/status`, { status: status });\r\n   },\r\n   savePhoto(photoFile) {\r\n      const formData = new FormData();\r\n      formData.append(\"image\", photoFile);\r\n\r\n      return instance.put(`profile/photo`, formData, {\r\n         headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n         }\r\n      })\r\n   },\r\n   saveProfile(profile) {\r\n      return instance.put(`profile`, profile);\r\n   }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n   me() {\r\n      return instance.get(`auth/me`);\r\n   },\r\n   login(email, password, rememberMe = false, captcha = null) {\r\n      return instance.post(`auth/login`, { email, password, rememberMe, captcha });\r\n   },\r\n   logout() {\r\n      return instance.delete(`auth/login`);\r\n   },\r\n}\r\n\r\nexport const securityAPI = {\r\n   getCaptchaUrl() {\r\n      return instance.get('security/get-captcha-url')\r\n   }\r\n}\r\n\r\n","import { usersAPI, profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialsState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 20 },\r\n        { id: 2, message: 'Its my first post', likesCount: 39 },\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialsState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            debugger\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos:action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n  \r\n    if (response.data.resultCode === 0) {\r\n       dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}